EESchema Schematic File Version 4
LIBS:bluepill_ups-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title "Bluepill UPS"
Date "2018-12-14"
Rev "324234"
Comp "Janus"
Comment1 "Overview of the UPS"
Comment2 "tw"
Comment3 "3"
Comment4 "4"
$EndDescr
$Sheet
S 2750 2550 1700 1350
U 5C14BAF9
F0 "Bluepill Node" 50
F1 "node.sch" 50
F2 "ADC_CH0" I R 4450 3000 50 
F3 "ADC_CH1" I R 4450 3100 50 
F4 "UART1_RX" I R 4450 2650 50 
F5 "UART1_TX" O R 4450 2750 50 
F6 "I2C1_SCL" B R 4450 3700 50 
F7 "I2C1_SDA" B R 4450 3800 50 
F8 "ADC_CH2" I R 4450 3200 50 
F9 "ADC_CH3" I R 4450 3300 50 
F10 "DIN_0" I R 4450 3550 50 
$EndSheet
$Comp
L Connector_Generic:Conn_01x02 J1
U 1 1 5C14C190
P 1700 2850
F 0 "J1" H 1700 2950 50  0000 C CNN
F 1 "Conn_01x02" H 1620 2616 50  0001 C CNN
F 2 "SIP2" H 1700 2850 50  0001 C CNN
F 3 "~" H 1700 2850 50  0001 C CNN
	1    1700 2850
	-1   0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0109
U 1 1 5C14C23B
P 2150 2400
F 0 "#PWR0109" H 2150 2250 50  0001 C CNN
F 1 "+5V" H 2165 2573 50  0000 C CNN
F 2 "" H 2150 2400 50  0001 C CNN
F 3 "" H 2150 2400 50  0001 C CNN
	1    2150 2400
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 2400 2150 2850
$Comp
L power:GNDREF #PWR0110
U 1 1 5C14C26C
P 2150 3100
F 0 "#PWR0110" H 2150 2850 50  0001 C CNN
F 1 "GNDREF" H 2155 2927 50  0001 C CNN
F 2 "" H 2150 3100 50  0001 C CNN
F 3 "" H 2150 3100 50  0001 C CNN
	1    2150 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 2950 2150 3100
$Comp
L power:PWR_FLAG #FLG0101
U 1 1 5C14C2D0
P 2300 2800
F 0 "#FLG0101" H 2300 2875 50  0001 C CNN
F 1 "PWR_FLAG" H 2300 2974 50  0001 C CNN
F 2 "" H 2300 2800 50  0001 C CNN
F 3 "~" H 2300 2800 50  0001 C CNN
	1    2300 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 2800 2300 2850
Wire Wire Line
	2300 2850 2150 2850
$Comp
L power:PWR_FLAG #FLG0102
U 1 1 5C14C309
P 2300 3100
F 0 "#FLG0102" H 2300 3175 50  0001 C CNN
F 1 "PWR_FLAG" H 2300 3274 50  0001 C CNN
F 2 "" H 2300 3100 50  0001 C CNN
F 3 "~" H 2300 3100 50  0001 C CNN
	1    2300 3100
	-1   0    0    1   
$EndComp
Wire Wire Line
	2300 3100 2300 2950
Wire Wire Line
	2300 2950 2150 2950
Wire Wire Line
	1900 2850 2150 2850
Connection ~ 2150 2850
Wire Wire Line
	2150 2950 1900 2950
Connection ~ 2150 2950
$Comp
L Connector_Generic:Conn_01x04 J2
U 1 1 5DFDE492
P 5550 2550
F 0 "J2" H 5550 2750 50  0000 L CNN
F 1 "Conn_01x04" H 5630 2451 50  0001 L CNN
F 2 "" H 5550 2550 50  0001 C CNN
F 3 "~" H 5550 2550 50  0001 C CNN
	1    5550 2550
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0104
U 1 1 5DFDE53F
P 5150 2200
F 0 "#PWR0104" H 5150 2050 50  0001 C CNN
F 1 "+3.3V" H 5165 2373 50  0000 C CNN
F 2 "" H 5150 2200 50  0001 C CNN
F 3 "" H 5150 2200 50  0001 C CNN
	1    5150 2200
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR0105
U 1 1 5DFDE54E
P 5150 2850
F 0 "#PWR0105" H 5150 2600 50  0001 C CNN
F 1 "GNDREF" H 5155 2677 50  0001 C CNN
F 2 "" H 5150 2850 50  0001 C CNN
F 3 "" H 5150 2850 50  0001 C CNN
	1    5150 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 2200 5150 2450
Wire Wire Line
	5150 2450 5350 2450
Wire Wire Line
	5350 2550 5150 2550
Wire Wire Line
	5150 2550 5150 2850
Wire Wire Line
	5350 2650 4450 2650
Wire Wire Line
	5350 2750 4450 2750
$Comp
L Connector_Generic:Conn_01x04 J3
U 1 1 5DFDE754
P 9050 2100
F 0 "J3" H 9050 2300 50  0000 L CNN
F 1 "Conn_01x04" H 9130 2001 50  0001 L CNN
F 2 "" H 9050 2100 50  0001 C CNN
F 3 "~" H 9050 2100 50  0001 C CNN
	1    9050 2100
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x05 J4
U 1 1 5DFDE7A2
P 9050 3850
F 0 "J4" H 9000 4150 50  0000 L CNN
F 1 "Conn_01x05" H 9130 3801 50  0001 L CNN
F 2 "" H 9050 3850 50  0001 C CNN
F 3 "~" H 9050 3850 50  0001 C CNN
	1    9050 3850
	1    0    0    -1  
$EndComp
Text Notes 9150 3700 0    100  ~ 0
12V UPS
Text Notes 9150 2100 0    100  ~ 0
230VAC UPS
$Comp
L Device:R R2
U 1 1 5DFDE89C
P 7750 3650
F 0 "R2" V 7543 3650 50  0000 C CNN
F 1 "10K" V 7634 3650 50  0000 C CNN
F 2 "" V 7680 3650 50  0001 C CNN
F 3 "~" H 7750 3650 50  0001 C CNN
	1    7750 3650
	0    1    1    0   
$EndComp
$Comp
L Device:C C3
U 1 1 5DFDE941
P 7300 3900
F 0 "C3" H 7415 3946 50  0000 L CNN
F 1 "100NF" H 7415 3855 50  0000 L CNN
F 2 "" H 7338 3750 50  0001 C CNN
F 3 "~" H 7300 3900 50  0001 C CNN
	1    7300 3900
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR0111
U 1 1 5DFDE9FE
P 7300 4100
F 0 "#PWR0111" H 7300 3850 50  0001 C CNN
F 1 "GNDREF" H 7305 3927 50  0001 C CNN
F 2 "" H 7300 4100 50  0001 C CNN
F 3 "" H 7300 4100 50  0001 C CNN
	1    7300 4100
	1    0    0    -1  
$EndComp
Text Notes 5650 2550 0    100  ~ 0
DEBUG
$Comp
L Device:R R1
U 1 1 5DFDF03B
P 7750 1750
F 0 "R1" V 7543 1750 50  0000 C CNN
F 1 "10K" V 7634 1750 50  0000 C CNN
F 2 "" V 7680 1750 50  0001 C CNN
F 3 "~" H 7750 1750 50  0001 C CNN
	1    7750 1750
	0    1    1    0   
$EndComp
$Comp
L Device:C C1
U 1 1 5DFDF042
P 7300 1950
F 0 "C1" H 7415 1996 50  0000 L CNN
F 1 "100NF" H 7415 1905 50  0000 L CNN
F 2 "" H 7338 1800 50  0001 C CNN
F 3 "~" H 7300 1950 50  0001 C CNN
	1    7300 1950
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR0112
U 1 1 5DFDF049
P 7300 2200
F 0 "#PWR0112" H 7300 1950 50  0001 C CNN
F 1 "GNDREF" H 7305 2027 50  0001 C CNN
F 2 "" H 7300 2200 50  0001 C CNN
F 3 "" H 7300 2200 50  0001 C CNN
	1    7300 2200
	1    0    0    -1  
$EndComp
Text Label 4550 3000 0    50   ~ 0
230_CURRENT
Wire Wire Line
	4450 3000 5150 3000
Text Label 4550 3100 0    50   ~ 0
230_VOLTAGE
Text Label 4550 3300 0    50   ~ 0
12_VOLTAGE
Text Label 4550 3200 0    50   ~ 0
12_CURRENT
Wire Wire Line
	4450 3100 5150 3100
Wire Wire Line
	4450 3200 5150 3200
Wire Wire Line
	4450 3300 5150 3300
$Comp
L power:+5V #PWR0113
U 1 1 5DFE0203
P 8750 1750
F 0 "#PWR0113" H 8750 1600 50  0001 C CNN
F 1 "+5V" H 8765 1923 50  0000 C CNN
F 2 "" H 8750 1750 50  0001 C CNN
F 3 "" H 8750 1750 50  0001 C CNN
	1    8750 1750
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0114
U 1 1 5DFE0225
P 8750 3400
F 0 "#PWR0114" H 8750 3250 50  0001 C CNN
F 1 "+5V" H 8765 3573 50  0000 C CNN
F 2 "" H 8750 3400 50  0001 C CNN
F 3 "" H 8750 3400 50  0001 C CNN
	1    8750 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8850 2000 8750 2000
Wire Wire Line
	8750 2000 8750 1750
Wire Wire Line
	8850 3650 8750 3650
Wire Wire Line
	8750 3400 8750 3650
$Comp
L power:GNDREF #PWR0115
U 1 1 5DFE071F
P 8750 4150
F 0 "#PWR0115" H 8750 3900 50  0001 C CNN
F 1 "GNDREF" H 8755 3977 50  0001 C CNN
F 2 "" H 8750 4150 50  0001 C CNN
F 3 "" H 8750 4150 50  0001 C CNN
	1    8750 4150
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR0116
U 1 1 5DFE073A
P 8750 2350
F 0 "#PWR0116" H 8750 2100 50  0001 C CNN
F 1 "GNDREF" H 8755 2177 50  0001 C CNN
F 2 "" H 8750 2350 50  0001 C CNN
F 3 "" H 8750 2350 50  0001 C CNN
	1    8750 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8850 2100 8750 2100
Wire Wire Line
	8750 2100 8750 2350
Wire Wire Line
	8850 3750 8750 3750
Wire Wire Line
	8750 3750 8750 4150
$Comp
L Device:R R5
U 1 1 5DFE1072
P 8000 2900
F 0 "R5" H 7930 2854 50  0000 R CNN
F 1 "10K" H 7930 2945 50  0000 R CNN
F 2 "" V 7930 2900 50  0001 C CNN
F 3 "~" H 8000 2900 50  0001 C CNN
	1    8000 2900
	-1   0    0    1   
$EndComp
$Comp
L Device:C C2
U 1 1 5DFE1079
P 7300 2900
F 0 "C2" H 7415 2946 50  0000 L CNN
F 1 "100NF" H 7415 2855 50  0000 L CNN
F 2 "" H 7338 2750 50  0001 C CNN
F 3 "~" H 7300 2900 50  0001 C CNN
	1    7300 2900
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR0117
U 1 1 5DFE1080
P 7300 3100
F 0 "#PWR0117" H 7300 2850 50  0001 C CNN
F 1 "GNDREF" H 7305 2927 50  0001 C CNN
F 2 "" H 7300 3100 50  0001 C CNN
F 3 "" H 7300 3100 50  0001 C CNN
	1    7300 3100
	1    0    0    -1  
$EndComp
$Comp
L Device:R R4
U 1 1 5DFE12B5
P 8000 2500
F 0 "R4" H 7930 2454 50  0000 R CNN
F 1 "33K" H 7930 2545 50  0000 R CNN
F 2 "" V 7930 2500 50  0001 C CNN
F 3 "~" H 8000 2500 50  0001 C CNN
	1    8000 2500
	-1   0    0    1   
$EndComp
Wire Wire Line
	6750 1750 7300 1750
Wire Wire Line
	7300 1750 7300 1800
Connection ~ 7300 1750
Wire Wire Line
	7300 1750 7600 1750
Wire Wire Line
	7300 2100 7300 2200
Text Label 6800 1750 0    50   ~ 0
230_CURRENT
Wire Wire Line
	8000 2300 8000 2350
Wire Wire Line
	8000 2650 8000 2700
Wire Wire Line
	8000 2700 7300 2700
Wire Wire Line
	7300 2700 7300 2750
Connection ~ 8000 2700
Wire Wire Line
	8000 2700 8000 2750
Wire Wire Line
	7300 3050 7300 3100
$Comp
L power:GNDREF #PWR0118
U 1 1 5DFE455C
P 8000 3100
F 0 "#PWR0118" H 8000 2850 50  0001 C CNN
F 1 "GNDREF" H 8005 2927 50  0001 C CNN
F 2 "" H 8000 3100 50  0001 C CNN
F 3 "" H 8000 3100 50  0001 C CNN
	1    8000 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 3050 8000 3100
$Comp
L Device:R R7
U 1 1 5DFE53C3
P 8000 4700
F 0 "R7" H 7930 4654 50  0000 R CNN
F 1 "10K" H 7930 4745 50  0000 R CNN
F 2 "" V 7930 4700 50  0001 C CNN
F 3 "~" H 8000 4700 50  0001 C CNN
	1    8000 4700
	-1   0    0    1   
$EndComp
$Comp
L Device:C C4
U 1 1 5DFE53CA
P 7300 4700
F 0 "C4" H 7415 4746 50  0000 L CNN
F 1 "100NF" H 7415 4655 50  0000 L CNN
F 2 "" H 7338 4550 50  0001 C CNN
F 3 "~" H 7300 4700 50  0001 C CNN
	1    7300 4700
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR0119
U 1 1 5DFE53D1
P 7300 4900
F 0 "#PWR0119" H 7300 4650 50  0001 C CNN
F 1 "GNDREF" H 7305 4727 50  0001 C CNN
F 2 "" H 7300 4900 50  0001 C CNN
F 3 "" H 7300 4900 50  0001 C CNN
	1    7300 4900
	1    0    0    -1  
$EndComp
$Comp
L Device:R R6
U 1 1 5DFE53D7
P 8000 4300
F 0 "R6" H 7930 4254 50  0000 R CNN
F 1 "33K" H 7930 4345 50  0000 R CNN
F 2 "" V 7930 4300 50  0001 C CNN
F 3 "~" H 8000 4300 50  0001 C CNN
	1    8000 4300
	-1   0    0    1   
$EndComp
Wire Wire Line
	8000 4450 8000 4500
Wire Wire Line
	8000 4500 7300 4500
Wire Wire Line
	7300 4500 7300 4550
Connection ~ 8000 4500
Wire Wire Line
	8000 4500 8000 4550
Wire Wire Line
	7300 4850 7300 4900
$Comp
L power:GNDREF #PWR0120
U 1 1 5DFE53E5
P 8000 4900
F 0 "#PWR0120" H 8000 4650 50  0001 C CNN
F 1 "GNDREF" H 8005 4727 50  0001 C CNN
F 2 "" H 8000 4900 50  0001 C CNN
F 3 "" H 8000 4900 50  0001 C CNN
	1    8000 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 4850 8000 4900
Wire Wire Line
	8000 2300 8850 2300
Wire Wire Line
	8000 1750 7900 1750
Wire Wire Line
	8000 1750 8000 2200
Wire Wire Line
	8000 2200 8850 2200
Wire Wire Line
	8850 3850 8000 3850
Wire Wire Line
	8000 3850 8000 3650
Wire Wire Line
	8000 3650 7900 3650
Wire Wire Line
	8850 3950 8000 3950
Wire Wire Line
	8000 3950 8000 4150
Wire Wire Line
	7300 4500 6750 4500
Connection ~ 7300 4500
Wire Wire Line
	7600 3650 7300 3650
Wire Wire Line
	7300 3650 7300 3750
Wire Wire Line
	7300 3650 6750 3650
Connection ~ 7300 3650
Wire Wire Line
	7300 4050 7300 4100
Text Label 6800 3650 0    50   ~ 0
12_CURRENT
Text Label 6800 4500 0    50   ~ 0
12_VOLTAGE
Wire Wire Line
	7300 2700 6750 2700
Connection ~ 7300 2700
Text Label 6800 2700 0    50   ~ 0
230_VOLTAGE
$Comp
L Device:R R3
U 1 1 5DFF2596
P 7750 5400
F 0 "R3" V 7543 5400 50  0000 C CNN
F 1 "10K" V 7634 5400 50  0000 C CNN
F 2 "" V 7680 5400 50  0001 C CNN
F 3 "~" H 7750 5400 50  0001 C CNN
	1    7750 5400
	0    1    1    0   
$EndComp
Wire Wire Line
	7600 5400 6750 5400
Wire Wire Line
	7900 5400 8450 5400
Wire Wire Line
	8450 5400 8450 4050
Wire Wire Line
	8450 4050 8850 4050
Text Label 6800 5400 0    50   ~ 0
12_PRESENT
Wire Wire Line
	4450 3550 5150 3550
Text Label 4550 3550 0    50   ~ 0
12_PRESENT
Wire Wire Line
	4450 3700 4750 3700
Wire Wire Line
	4450 3800 4750 3800
NoConn ~ 4750 3700
NoConn ~ 4750 3800
$EndSCHEMATC
